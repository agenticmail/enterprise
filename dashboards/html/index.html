<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AgenticMail Enterprise Dashboard</title>
  <link rel="stylesheet" href="public/styles.css">
</head>
<body>

<!-- Setup banner (shown if API_URL is still localhost) -->
<div id="setup-banner">
  <h3>Quick Setup</h3>
  <p style="color:var(--text-dim);font-size:13px;margin-bottom:12px;">Enter your AgenticMail Enterprise server URL to get started:</p>
  <div>
    <input type="text" id="setup-url" placeholder="https://your-company.agenticmail.io" value="">
    <button>Connect</button>
  </div>
</div>

<!-- Login Screen -->
<div id="login-screen">
  <div id="login-box">
    <h1><em style="color:var(--primary)">AgenticMail</em> Enterprise</h1>
    <p class="subtitle">Sign in to your dashboard</p>
    <div id="login-error"></div>
    <form>
      <div class="form-group">
        <label class="form-label">Email</label>
        <input class="input" type="email" id="login-email" required autofocus>
      </div>
      <div class="form-group">
        <label class="form-label">Password</label>
        <input class="input" type="password" id="login-password" required>
      </div>
      <button class="btn btn-primary" type="submit" id="login-btn">Sign In</button>
    </form>
  </div>
</div>

<!-- Main App -->
<div id="app">
  <div class="layout">
    <div class="sidebar">
      <div class="sidebar-header">
        <h2><em>Agentic</em>Mail</h2>
        <p>Enterprise Dashboard</p>
      </div>
      <div class="nav">
        <div class="nav-section">Overview</div>
        <button class="nav-item active" data-page="dashboard">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
          </svg>
          <span class="nav-label">Dashboard</span>
        </button>
        
        <div class="nav-section">Management</div>
        <button class="nav-item" data-page="agents">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
          </svg>
          <span class="nav-label">Agents</span>
        </button>
        <button class="nav-item" data-page="skills">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M5.5 2A3.5 3.5 0 0 0 2 5.5v5A3.5 3.5 0 0 0 5.5 14h5a3.5 3.5 0 0 0 3.5-3.5V8a.5.5 0 0 1 1 0v2.5a4.5 4.5 0 0 1-4.5 4.5h-5A4.5 4.5 0 0 1 1 10.5v-5A4.5 4.5 0 0 1 5.5 1H8a.5.5 0 0 1 0 1H5.5z"/>
            <path d="M16 3a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
          </svg>
          <span class="nav-label">Skills</span>
        </button>
        <button class="nav-item" data-page="community-skills">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM1.5 8a6.5 6.5 0 1 1 13 0 6.5 6.5 0 0 1-13 0z"/>
            <path d="M4 6.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1zM4.5 9a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-2z"/>
          </svg>
          <span class="nav-label">Community Skills</span>
        </button>
        <button class="nav-item" data-page="skill-connections">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M4.715 6.542 3.248 7.17a.5.5 0 1 1-.4-.8l1.838-.918a.5.5 0 0 1 .478.011l1.06.53H8.5a.5.5 0 0 1 0 1H6.086l-1.371-.458z"/>
            <path d="M6.5 1A1.5 1.5 0 0 0 5 2.5V3H1.5A1.5 1.5 0 0 0 0 4.5v1.384l7.614 2.03a1.5 1.5 0 0 0 .772 0L16 5.884V4.5A1.5 1.5 0 0 0 14.5 3H11v-.5A1.5 1.5 0 0 0 9.5 1h-3zm0 1h3a.5.5 0 0 1 .5.5V3H6v-.5a.5.5 0 0 1 .5-.5z"/>
          </svg>
          <span class="nav-label">Skill Connections</span>
        </button>
        <button class="nav-item" data-page="knowledge">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
          </svg>
          <span class="nav-label">Knowledge Bases</span>
        </button>
        <button class="nav-item" data-page="knowledge-contributions">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
          </svg>
          <span class="nav-label">Knowledge Hub</span>
        </button>
        <button class="nav-item" data-page="approvals">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.061L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.061L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
          </svg>
          <span class="nav-label">Approvals</span>
        </button>
        
        <div class="nav-section">Operations</div>
        <button class="nav-item" data-page="workforce">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>
          </svg>
          <span class="nav-label">Workforce</span>
        </button>
        <button class="nav-item" data-page="activity">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M1.5 1.5A.5.5 0 0 0 1 2v4.8a2.5 2.5 0 0 0 2.5 2.5h9A2.5 2.5 0 0 0 15 6.8V2a.5.5 0 0 0-.5-.5h-13zM1 10.5A1.5 1.5 0 0 1 2.5 9h1A1.5 1.5 0 0 1 5 10.5v1A1.5 1.5 0 0 1 3.5 13h-1A1.5 1.5 0 0 1 1 11.5v-1zm6.5-9a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm2 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
          </svg>
          <span class="nav-label">Activity</span>
        </button>
        <button class="nav-item" data-page="messages">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M5 8a.5.5 0 0 1-.5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708 0L9.5 5.707V7.5a.5.5 0 0 1-1 0V4.5A1.5 1.5 0 0 1 10 3h3a1.5 1.5 0 0 1 1.5 1.5v7A1.5 1.5 0 0 1 13 13H3a1.5 1.5 0 0 1-1.5-1.5V4.5A1.5 1.5 0 0 1 3 3h3a1.5 1.5 0 0 1 1.5 1.5V7.5A.5.5 0 0 1 7 8H5z"/>
          </svg>
          <span class="nav-label">Messages</span>
        </button>
        <button class="nav-item" data-page="guardrails">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"/>
          </svg>
          <span class="nav-label">Guardrails</span>
        </button>
        <button class="nav-item" data-page="journal">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"/>
            <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"/>
          </svg>
          <span class="nav-label">Journal</span>
        </button>
        
        <div class="nav-section">Administration</div>
        <button class="nav-item" data-page="dlp">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10.24 8.051a.5.5 0 0 0-.128.334v2.115l-2.222 1.112a.5.5 0 0 1-.778-.416V8.385a.5.5 0 0 0-.128-.334L2.128 3.84A.5.5 0 0 1 2 3.5v-2z"/>
          </svg>
          <span class="nav-label">DLP</span>
        </button>
        <button class="nav-item" data-page="compliance">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M9.669.864 8 0 6.331.864l-1.858.282-.842 1.68-1.337 1.32L2.6 6l-.306 1.854 1.337 1.32.842 1.68 1.858.282L8 16l1.669-.864 1.858-.282.842-1.68 1.337-1.32L13.4 10l.306-1.854-1.337-1.32-.842-1.68L9.669.864zm1.196 1.193.684 1.365 1.086 1.072L12.387 6l.248 1.506-1.086 1.072-.684 1.365-1.51.229L8 10.874l-1.355-.702-1.51-.229-.684-1.365-1.086-1.072L3.614 6l-.25-1.506 1.087-1.072.684-1.365 1.51-.229L8 1.126l1.356.702 1.509.229z"/>
            <path d="M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"/>
          </svg>
          <span class="nav-label">Compliance</span>
        </button>
        <button class="nav-item" data-page="domain-status">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"/>
          </svg>
          <span class="nav-label">Domain</span>
        </button>
        <button class="nav-item" data-page="users">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
            <path fill-rule="evenodd" d="M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z"/>
            <path d="M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"/>
          </svg>
          <span class="nav-label">Users</span>
        </button>
        <button class="nav-item" data-page="vault">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
          </svg>
          <span class="nav-label">Vault</span>
        </button>
        <button class="nav-item" data-page="audit">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9V5.5z"/>
            <path d="M6.5 0C3.48 0 1 2.48 1 5.5c0 .724.14 1.417.395 2.05.013.034.028.067.044.099A15.917 15.917 0 0 0 8 16a15.917 15.917 0 0 0 6.561-8.351c.016-.032.031-.065.044-.099A4.51 4.51 0 0 0 15 5.5C15 2.48 12.52 0 9.5 0h-3zM2 5.5C2 3.033 4.033 1 6.5 1h3C11.967 1 14 3.033 14 5.5S11.967 10 9.5 10h-3C4.033 10 2 7.967 2 5.5z"/>
          </svg>
          <span class="nav-label">Audit Log</span>
        </button>
        <button class="nav-item" data-page="settings">
          <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
            <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"/>
            <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"/>
          </svg>
          <span class="nav-label">Settings</span>
        </button>
      </div>
      <div class="sidebar-footer">
        <div class="name" id="user-name">-</div>
        <div class="email" id="user-email">-</div>
        <a>Sign out</a>
      </div>
    </div>

    <div class="content" id="page-content">
      <!-- Pages injected here by JS -->
    </div>
  </div>
</div>

<!-- Create Agent Modal -->
<div class="modal-overlay" id="modal-agent">
  <div class="modal">
    <h3>Create Agent</h3>
    <form>
      <div class="form-group"><label class="form-label">Soul / Role Template</label>
        <select class="input" id="agent-soul-id" name="soulId">
          <option value="">-- Select a role template --</option>
          <optgroup label="Support">
            <option value="customer-support-lead">Customer Support Lead</option>
            <option value="technical-support-agent">Technical Support Agent</option>
            <option value="customer-success-manager">Customer Success Manager</option>
          </optgroup>
          <optgroup label="Sales">
            <option value="account-executive">Account Executive</option>
            <option value="sales-development-rep">Sales Development Rep</option>
            <option value="solutions-engineer">Solutions Engineer</option>
          </optgroup>
          <optgroup label="Engineering">
            <option value="senior-software-engineer">Senior Software Engineer</option>
            <option value="devops-engineer">DevOps Engineer</option>
            <option value="qa-engineer">QA Engineer</option>
          </optgroup>
          <optgroup label="Operations">
            <option value="operations-manager">Operations Manager</option>
            <option value="project-coordinator">Project Coordinator</option>
            <option value="executive-assistant">Executive Assistant</option>
          </optgroup>
          <optgroup label="Marketing">
            <option value="content-strategist">Content Strategist</option>
            <option value="growth-marketer">Growth Marketer</option>
            <option value="brand-manager">Brand Manager</option>
          </optgroup>
          <optgroup label="Finance">
            <option value="financial-analyst">Financial Analyst</option>
            <option value="accounts-receivable-specialist">Accounts Receivable Specialist</option>
            <option value="procurement-officer">Procurement Officer</option>
          </optgroup>
          <optgroup label="Legal">
            <option value="contract-reviewer">Contract Reviewer</option>
            <option value="compliance-analyst">Compliance Analyst</option>
            <option value="legal-counsel">Legal Counsel</option>
          </optgroup>
          <optgroup label="Security">
            <option value="security-analyst">Security Analyst</option>
            <option value="incident-responder">Incident Responder</option>
            <option value="security-auditor">Security Auditor</option>
          </optgroup>
        </select>
      </div>
      <div class="form-group"><label class="form-label">Name</label><input class="input" id="agent-name" required placeholder="e.g. researcher"></div>
      <div class="form-group"><label class="form-label">Email (optional)</label><input class="input" id="agent-email" placeholder="auto-generated if blank"></div>
      <div class="form-group"><label class="form-label">Provider</label>
        <select class="input" id="agent-provider">
          <option value="anthropic">Anthropic</option>
          <option value="openai">OpenAI</option>
          <option value="google">Google</option>
          <option value="deepseek">DeepSeek</option>
          <option value="xai">xAI (Grok)</option>
          <option value="mistral">Mistral</option>
          <option value="groq">Groq</option>
          <option value="together">Together</option>
          <option value="fireworks">Fireworks</option>
          <option value="moonshot">Moonshot (Kimi)</option>
          <option value="cerebras">Cerebras</option>
          <option value="openrouter">OpenRouter</option>
          <option value="ollama">Ollama (Local)</option>
          <option value="vllm">vLLM (Local)</option>
          <option value="lmstudio">LM Studio (Local)</option>
          <option value="litellm">LiteLLM (Local)</option>
        </select>
      </div>
      <div class="form-group"><label class="form-label">Model</label>
        <select class="input" id="agent-model">
          <option value="">-- Select a provider first --</option>
        </select>
        <input class="input" id="agent-model-input" placeholder="Type a model ID" style="display:none">
      </div>
      <div class="form-group"><label class="form-label">Role</label>
        <select class="input" id="agent-role"><option>assistant</option><option>secretary</option><option>researcher</option><option>writer</option><option>custom</option></select>
      </div>
      <fieldset class="persona-fieldset"><legend>Persona (optional)</legend>
      <div class="form-row">
        <div class="form-group"><label>Date of Birth</label><input class="input" type="date" id="agent-date-of-birth" name="date_of_birth"></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label>Gender</label><select class="input" id="agent-gender" name="gender"><option value="">Not specified</option><option value="male">Male</option><option value="female">Female</option><option value="non-binary">Non-binary</option></select></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label>Marital Status</label><select class="input" id="agent-marital-status" name="marital_status"><option value="">Not specified</option><option value="single">Single</option><option value="married">Married</option><option value="divorced">Divorced</option></select></div>
        <div class="form-group"><label>Cultural Background</label><select class="input" id="agent-cultural-background" name="cultural_background"><option value="">Not specified</option><option value="north-american">North American</option><option value="british-european">British / European</option><option value="latin-american">Latin American</option><option value="middle-eastern">Middle Eastern</option><option value="east-asian">East Asian</option><option value="south-asian">South Asian</option><option value="southeast-asian">Southeast Asian</option><option value="african">African</option><option value="caribbean">Caribbean</option><option value="australian-pacific">Australian / Pacific</option></select></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label>Language</label><select class="input" id="agent-language" name="language"><option value="en-us">English (American)</option><option value="en-gb">English (British)</option><option value="en-au">English (Australian)</option><option value="es">Spanish</option><option value="pt">Portuguese</option><option value="fr">French</option><option value="de">German</option><option value="ja">Japanese</option><option value="ko">Korean</option><option value="zh">Mandarin</option><option value="hi">Hindi</option><option value="ar">Arabic</option><option value="yo">Yoruba</option><option value="ig">Igbo</option><option value="sw">Swahili</option><option value="it">Italian</option><option value="nl">Dutch</option><option value="ru">Russian</option><option value="tr">Turkish</option><option value="pl">Polish</option><option value="th">Thai</option><option value="vi">Vietnamese</option><option value="id">Indonesian</option><option value="ms">Malay</option><option value="tl">Filipino (Tagalog)</option></select></div>
        <div class="form-group"><label>Communication Style</label><select class="input" id="agent-trait-communication" name="trait_communication"><option value="direct">Direct</option><option value="diplomatic">Diplomatic</option></select></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label>Detail Level</label><select class="input" id="agent-trait-detail" name="trait_detail"><option value="detail-oriented">Detail-oriented</option><option value="big-picture">Big-picture</option></select></div>
        <div class="form-group"><label>Energy</label><select class="input" id="agent-trait-energy" name="trait_energy"><option value="calm">Calm &amp; measured</option><option value="enthusiastic">Enthusiastic</option></select></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label>Humor</label><select class="input" id="agent-humor" name="humor"><option value="witty">Witty</option><option value="dry">Dry</option><option value="warm" selected>Warm</option><option value="none">None</option></select></div>
        <div class="form-group"><label>Formality</label><select class="input" id="agent-formality" name="formality"><option value="formal">Formal</option><option value="casual">Casual</option><option value="adaptive" selected>Adaptive</option></select></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label>Empathy</label><select class="input" id="agent-empathy" name="empathy"><option value="high">High</option><option value="moderate" selected>Moderate</option><option value="reserved">Reserved</option></select></div>
        <div class="form-group"><label>Patience</label><select class="input" id="agent-patience" name="patience"><option value="patient" selected>Patient</option><option value="efficient">Efficient</option></select></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label>Creativity</label><select class="input" id="agent-creativity" name="creativity"><option value="creative" selected>Creative</option><option value="conventional">Conventional</option></select></div>
      </div>
      </fieldset>
      <div class="modal-actions">
        <button class="btn" type="button">Cancel</button>
        <button class="btn btn-primary" type="submit" style="width:auto">Create</button>
      </div>
    </form>
  </div>
</div>

<!-- Create User Modal -->
<div class="modal-overlay" id="modal-user">
  <div class="modal">
    <h3>Create User</h3>
    <form>
      <div class="form-group"><label class="form-label">Name</label><input class="input" id="new-user-name" required></div>
      <div class="form-group"><label class="form-label">Email</label><input class="input" type="email" id="new-user-email" required></div>
      <div class="form-group"><label class="form-label">Role</label>
        <select class="input" id="new-user-role"><option>member</option><option>admin</option><option>owner</option><option>viewer</option></select>
      </div>
      <div class="form-group"><label class="form-label">Password</label><input class="input" type="password" id="new-user-password" required minlength="8"></div>
      <div class="modal-actions">
        <button class="btn" type="button">Cancel</button>
        <button class="btn btn-primary" type="submit" style="width:auto">Create</button>
      </div>
    </form>
  </div>
</div>

<!-- Create API Key Modal -->
<div class="modal-overlay" id="modal-apikey">
  <div class="modal">
    <h3>Create API Key</h3>
    <form>
      <div class="form-group"><label class="form-label">Key Name</label><input class="input" id="apikey-name" required placeholder="e.g. CI/CD pipeline"></div>
      <div class="modal-actions">
        <button class="btn" type="button">Cancel</button>
        <button class="btn btn-primary" type="submit" style="width:auto">Create</button>
      </div>
    </form>
  </div>
</div>

<!-- Create DLP Rule Modal -->
<div class="modal-overlay" id="modal-dlp-rule">
  <div class="modal">
    <h3>Create DLP Rule</h3>
    <form>
      <div class="form-group"><label class="form-label">Rule Name</label><input class="input" id="dlp-rule-name" required placeholder="e.g. Credit Card Numbers"></div>
      <div class="form-group"><label class="form-label">Pattern (regex)</label><input class="input" id="dlp-rule-pattern" required placeholder="e.g. \d{4}-\d{4}-\d{4}-\d{4}"></div>
      <div class="form-group"><label class="form-label">Action</label>
        <select class="input" id="dlp-rule-action"><option value="block">Block</option><option value="redact">Redact</option><option value="flag">Flag Only</option></select>
      </div>
      <div class="form-group"><label class="form-label">Description (optional)</label><input class="input" id="dlp-rule-description" placeholder="What does this rule protect?"></div>
      <div class="modal-actions">
        <button class="btn" type="button">Cancel</button>
        <button class="btn btn-primary" type="submit" style="width:auto">Create</button>
      </div>
    </form>
  </div>
</div>

<!-- Create Anomaly Rule Modal -->
<div class="modal-overlay" id="modal-anomaly-rule">
  <div class="modal">
    <h3>Create Anomaly Rule</h3>
    <form>
      <div class="form-group"><label class="form-label">Rule Name</label><input class="input" id="anomaly-rule-name" required placeholder="e.g. High volume sending"></div>
      <div class="form-group"><label class="form-label">Condition</label><input class="input" id="anomaly-rule-condition" required placeholder="e.g. messages_per_hour > 100"></div>
      <div class="form-group"><label class="form-label">Action</label>
        <select class="input" id="anomaly-rule-action"><option value="alert">Alert</option><option value="pause">Pause Agent</option><option value="kill">Kill Agent</option><option value="throttle">Throttle</option></select>
      </div>
      <div class="form-group"><label class="form-label">Description (optional)</label><input class="input" id="anomaly-rule-description" placeholder="What does this rule detect?"></div>
      <div class="modal-actions">
        <button class="btn" type="button">Cancel</button>
        <button class="btn btn-primary" type="submit" style="width:auto">Create</button>
      </div>
    </form>
  </div>
</div>

<!-- Send Message Modal -->
<div class="modal-overlay" id="modal-message">
  <div class="modal">
    <h3>Send Message</h3>
    <form>
      <div class="form-group"><label class="form-label">From</label><input class="input" id="msg-from" required placeholder="agent@company.com"></div>
      <div class="form-group"><label class="form-label">To</label><input class="input" id="msg-to" required placeholder="recipient@example.com"></div>
      <div class="form-group"><label class="form-label">Subject</label><input class="input" id="msg-subject" required placeholder="Message subject"></div>
      <div class="form-group"><label class="form-label">Body</label><textarea class="input" id="msg-body" rows="4" required placeholder="Message content..."></textarea></div>
      <div class="modal-actions">
        <button class="btn" type="button">Cancel</button>
        <button class="btn btn-primary" type="submit" style="width:auto">Send</button>
      </div>
    </form>
  </div>
</div>

<!-- Generate Compliance Report Modal -->
<div class="modal-overlay" id="modal-compliance">
  <div class="modal">
    <h3>Generate Compliance Report</h3>
    <form>
      <div class="form-group"><label class="form-label">Framework</label>
        <select class="input" id="compliance-framework"><option value="soc2">SOC 2</option><option value="gdpr">GDPR</option><option value="audit">Audit</option></select>
      </div>
      <div class="form-group"><label class="form-label">Report Name (optional)</label><input class="input" id="compliance-name" placeholder="Custom report name"></div>
      <div class="modal-actions">
        <button class="btn" type="button">Cancel</button>
        <button class="btn btn-primary" type="submit" style="width:auto">Generate</button>
      </div>
    </form>
  </div>
</div>

<!-- Toast -->
<div id="toast"></div>

<script src="dist/bundle.js"></script>
</body>
</html>
