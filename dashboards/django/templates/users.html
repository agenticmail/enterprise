{% extends "layout.html" %}
{% block content %}
<h2 class="t">Users</h2>
<p class="desc">Manage team members</p>
<div class="card" style="margin-bottom:16px">
<div class="ct">Create User</div>
<form method="POST" style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
<div class="fg"><label class="fl">Name</label><input class="input" name="name" required></div>
<div class="fg"><label class="fl">Email</label><input class="input" type="email" name="email" required></div>
<div class="fg"><label class="fl">Role</label><select class="input" name="role"><option>member</option><option>admin</option><option>owner</option></select></div>
<div class="fg"><label class="fl">Password</label><input class="input" type="password" name="password" required minlength="8"></div>
<div><button class="btn btn-p" type="submit">Create</button></div>
</form>
</div>
<div class="card">
{% if users %}
<table>
<thead><tr><th>Name</th><th>Email</th><th>Role</th><th>Last Login</th></tr></thead>
<tbody>
{% for u in users %}
<tr>
<td style="font-weight:600">{{ u.name }}</td>
<td style="color:var(--dim)">{{ u.email }}</td>
<td>{{ u.role_badge|safe }}</td>
<td style="color:var(--muted);font-size:12px">{{ u.lastLoginAt|default:"Never" }}</td>
</tr>
{% endfor %}
</tbody>
</table>
{% else %}
<div class="empty">&#x1f465; No users yet</div>
{% endif %}
</div>
{% endblock %}
