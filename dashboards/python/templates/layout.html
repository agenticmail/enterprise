<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AgenticMail Enterprise â€” Python</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <div class="layout">
    <div class="sidebar">
      <div class="sidebar-header">
        <h2>AgenticMail</h2>
        <p>Enterprise Dashboard</p>
      </div>
      <nav class="nav">
        <div class="nav-section">Overview</div>
        <a href="{{ url_for('dashboard_bp.dashboard') }}" class="nav-item {{ 'active' if active_page == 'dashboard' }}">
          <span>ğŸ“Š</span> <span>Dashboard</span>
        </a>
        
        <div class="nav-section">Management</div>
        <a href="{{ url_for('agents_bp.agents') }}" class="nav-item {{ 'active' if active_page == 'agents' }}">
          <span>ğŸ¤–</span> <span>Agents</span>
        </a>
        <a href="{{ url_for('skills_bp.skills') }}" class="nav-item {{ 'active' if active_page == 'skills' }}">
          <span>âš¡</span> <span>Skills</span>
        </a>
        <a href="{{ url_for('community_skills_bp.community_skills') }}" class="nav-item {{ 'active' if active_page == 'community_skills' }}">
          <span>ğŸª</span> <span>Community Skills</span>
        </a>
        <a href="{{ url_for('skill_connections_bp.skill_connections') }}" class="nav-item {{ 'active' if active_page == 'skill_connections' }}">
          <span>ğŸ”—</span> <span>Skill Connections</span>
        </a>
        <a href="{{ url_for('knowledge_bp.knowledge') }}" class="nav-item {{ 'active' if active_page == 'knowledge' }}">
          <span>ğŸ“š</span> <span>Knowledge Bases</span>
        </a>
        <a href="{{ url_for('knowledge_contributions_bp.knowledge_contributions') }}" class="nav-item {{ 'active' if active_page == 'knowledge_contributions' }}">
          <span>ğŸ§ </span> <span>Knowledge Hub</span>
        </a>
        <a href="{{ url_for('approvals_bp.approvals') }}" class="nav-item {{ 'active' if active_page == 'approvals' }}">
          <span>âœ…</span> <span>Approvals</span>
        </a>
        
        <div class="nav-section">Management</div>
        <a href="{{ url_for('workforce_bp.workforce') }}" class="nav-item {{ 'active' if active_page == 'workforce' }}">
          <span>â°</span> <span>Workforce</span>
        </a>
        <a href="{{ url_for('activity_bp.activity') }}" class="nav-item {{ 'active' if active_page == 'activity' }}">
          <span>ğŸ“Š</span> <span>Activity</span>
        </a>
        <a href="{{ url_for('messages_bp.messages') }}" class="nav-item {{ 'active' if active_page == 'messages' }}">
          <span>ğŸ’¬</span> <span>Messages</span>
        </a>
        <a href="{{ url_for('guardrails_bp.guardrails') }}" class="nav-item {{ 'active' if active_page == 'guardrails' }}">
          <span>ğŸ›¡ï¸</span> <span>Guardrails</span>
        </a>
        <a href="{{ url_for('journal_bp.journal') }}" class="nav-item {{ 'active' if active_page == 'journal' }}">
          <span>ğŸ“</span> <span>Journal</span>
        </a>
        
        <div class="nav-section">Administration</div>
        <a href="{{ url_for('dlp_bp.dlp') }}" class="nav-item {{ 'active' if active_page == 'dlp' }}">
          <span>ğŸ”</span> <span>DLP</span>
        </a>
        <a href="{{ url_for('compliance_bp.compliance') }}" class="nav-item {{ 'active' if active_page == 'compliance' }}">
          <span>âœ”ï¸</span> <span>Compliance</span>
        </a>
        <a href="{{ url_for('domain_status_bp.domain_status') }}" class="nav-item {{ 'active' if active_page == 'domain_status' }}">
          <span>ğŸ›¡ï¸</span> <span>Domain</span>
        </a>
        <a href="{{ url_for('users_bp.users') }}" class="nav-item {{ 'active' if active_page == 'users' }}">
          <span>ğŸ‘¥</span> <span>Users</span>
        </a>
        <a href="{{ url_for('vault_bp.vault') }}" class="nav-item {{ 'active' if active_page == 'vault' }}">
          <span>ğŸ”</span> <span>Vault</span>
        </a>
        <a href="{{ url_for('audit_bp.audit') }}" class="nav-item {{ 'active' if active_page == 'audit' }}">
          <span>ğŸ“‹</span> <span>Audit Log</span>
        </a>
        <a href="{{ url_for('settings_bp.settings') }}" class="nav-item {{ 'active' if active_page == 'settings' }}">
          <span>âš™ï¸</span> <span>Settings</span>
        </a>
      </nav>
    </div>

    <div class="main-content">
      <div class="topbar">
        <div class="topbar-left">
          <div class="topbar-title">AgenticMail Enterprise</div>
        </div>
        <div class="topbar-right">
          <span>{{ user.name or user.email }}</span>
          <a href="{{ url_for('auth_bp.logout') }}" class="btn btn-secondary btn-sm">Sign Out</a>
          <button class="btn btn-secondary btn-sm" onclick="toggleTheme()" title="Toggle theme">ğŸŒ™</button>
        </div>
      </div>
      <div class="page-content">
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            {% for m in messages %}
              {% if 'Key created:' in m %}
              <div class="key-banner">
                Save this key now â€” it will not be shown again!
                <code>{{ m.replace('Key created: ', '').replace(' â€” SAVE THIS NOW!', '') }}</code>
              </div>
              {% else %}
              <div class="flash flash-success">{{ m }}</div>
              {% endif %}
            {% endfor %}
          {% endif %}
        {% endwith %}

        {% block content %}{% endblock %}
      </div>
    </div>
  </div>

  {% block scripts %}{% endblock %}
</body>
</html>
